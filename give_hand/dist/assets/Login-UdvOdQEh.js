import{_ as f,u as m,r as v,a as g,c as k,b as t,w as r,v as i,t as b,d as w,e as x,o as y}from"./index-CeEdpuPy.js";import{l as _}from"./auth-EPtFGtg6.js";import"./http-CWkExEYz.js";const V={class:"page"},A={class:"card"},B={class:"form-group"},C={class:"form-group"},L=["disabled"],h={__name:"Login",setup(D){const n=x(),u=m(),a=v(!1),o=g({account:"",password:""});async function d(){if(!o.account||!o.password){alert("请输入账号和密码");return}a.value=!0;try{const l=await _(o),{token:s,...e}=l;u.setAuth(s,e),n.replace("/home")}catch(l){alert(l.message||"登录失败")}finally{a.value=!1}}function p(){n.push("/register")}function c(){n.replace("/home")}return(l,s)=>(y(),k("div",V,[t("div",A,[s[5]||(s[5]=t("h1",{class:"title"},"欢迎回来",-1)),s[6]||(s[6]=t("p",{class:"subtitle"},"请登录您的账户继续使用",-1)),t("div",B,[s[2]||(s[2]=t("label",null,"账号",-1)),r(t("input",{"onUpdate:modelValue":s[0]||(s[0]=e=>o.account=e),placeholder:"请输入用户名或邮箱",type:"text"},null,512),[[i,o.account]])]),t("div",C,[s[3]||(s[3]=t("label",null,"密码",-1)),r(t("input",{"onUpdate:modelValue":s[1]||(s[1]=e=>o.password=e),placeholder:"请输入密码",type:"password"},null,512),[[i,o.password]])]),s[7]||(s[7]=t("div",{class:"actions"},[t("a",{class:"forget"},"忘记密码?")],-1)),t("button",{class:"primary-btn",onClick:d,disabled:a.value},b(a.value?"登录中...":"登录"),9,L),t("div",{class:"footer-text"},[s[4]||(s[4]=w(" 还没有账户？ ",-1)),t("span",{class:"link",onClick:p},"立即注册")]),t("div",{class:"skip",onClick:c},"跳过登录")])]))}},T=f(h,[["__scopeId","data-v-e211a201"]]);export{T as default};
