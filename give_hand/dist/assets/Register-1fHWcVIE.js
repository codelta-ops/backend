import{_ as y,r as h,a as _,c as n,b as e,F as g,f as k,t as c,d as b,e as v,o as d,w as f,g as w}from"./index-CeEdpuPy.js";import{r as x}from"./auth-EPtFGtg6.js";import"./http-CWkExEYz.js";const R={class:"page"},V={class:"card"},B=["onUpdate:modelValue","type","placeholder"],D=["disabled"],I={__name:"Register",setup(C){const o=v(),s=h(!1),t=_({school:"",name:"",username:"",email:"",studentId:"",password:""}),i=[{key:"school",label:"学校",placeholder:"请输入学校名称"},{key:"name",label:"姓名",placeholder:"请输入真实姓名"},{key:"username",label:"用户名",placeholder:"请输入用户名"},{key:"email",label:"邮箱",placeholder:"请输入邮箱地址"},{key:"studentId",label:"学号",placeholder:"请输入学号"},{key:"password",label:"密码",type:"password",placeholder:"请输入密码"}];async function p(){s.value=!0;try{await x(t),alert("注册成功，请登录"),o.replace("/login")}catch(r){alert(r.message||"注册失败")}finally{s.value=!1}}function u(){o.push("/login")}return(r,l)=>(d(),n("div",R,[e("div",V,[l[1]||(l[1]=e("h2",{class:"title"},"注册账户",-1)),(d(),n(g,null,k(i,a=>e("div",{class:"form-group",key:a.key},[e("label",null,c(a.label),1),f(e("input",{"onUpdate:modelValue":m=>t[a.key]=m,type:a.type||"text",placeholder:a.placeholder},null,8,B),[[w,t[a.key]]])])),64)),e("button",{class:"primary-btn",onClick:p,disabled:s.value},c(s.value?"注册中...":"注册"),9,D),e("div",{class:"footer-text"},[l[0]||(l[0]=b(" 已有账户？ ",-1)),e("span",{class:"link",onClick:u},"去登录")])])]))}},U=y(I,[["__scopeId","data-v-770375e1"]]);export{U as default};
