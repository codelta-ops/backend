import{_ as f,c as u,o as n,b as s,t as l,n as k,h as g,r as m,m as y,w as b,v as $,q as C,F as x,f as O,e as w,x as B}from"./index-CeEdpuPy.js";import{g as M}from"./orders-L_Q0EYNJ.js";import"./http-CWkExEYz.js";const T=["src"],D={key:1,class:"image placeholder"},q={class:"body"},z={class:"title"},F={class:"bottom"},I={class:"user"},K={class:"avatar-circle"},L={class:"name"},V={class:"price-status"},j={class:"price"},A={__name:"OrderCard",props:{order:{type:Object,required:!0}},setup(e){const d=e,o={0:"有待接单",1:"进行中",2:"已完成",3:"正在仲裁"},i={0:"pending",1:"doing",2:"done",3:"arbitrating"},v=o[d.order.status]||"未知",c=i[d.order.status]||"pending";return(h,p)=>{var _;return n(),u("div",{class:"card",onClick:p[0]||(p[0]=t=>h.$emit("click"))},[e.order.url?(n(),u("img",{key:0,src:e.order.url,class:"image"},null,8,T)):(n(),u("div",D)),s("div",q,[s("div",z,l(e.order.title),1),s("div",F,[s("div",I,[s("div",K,l(((_=e.order.username)==null?void 0:_[0])||"用"),1),s("div",L,l(e.order.username),1)]),s("div",V,[s("div",j,"¥"+l(e.order.price),1),s("div",{class:k(["status",g(c)])},l(g(v)),3)])])])])}}},E=f(A,[["__scopeId","data-v-ec3a4355"]]),N={class:"page"},R={class:"header"},S={class:"tabs"},U={class:"main"},G={class:"grid"},H={__name:"Orders",setup(e){const d=w(),o=m("published"),i=m(""),v=m([]);async function c(){const t=await M({type:o.value,keyword:i.value||void 0,page:1,size:20});v.value=t.results||[]}function h(t){o.value!==t&&(o.value=t,c())}function p(t){d.push(`/orders/${t}`)}function _(){d.push("/orders/create")}return y(c),(t,a)=>(n(),u("div",N,[s("header",R,[a[3]||(a[3]=s("h2",null,"我的订单",-1)),s("div",S,[s("span",{class:k({active:o.value==="published"}),onClick:a[0]||(a[0]=r=>h("published"))}," 我发布的 ",2)]),b(s("input",{"onUpdate:modelValue":a[1]||(a[1]=r=>i.value=r),class:"search",placeholder:"搜索订单标题",onKeyup:a[2]||(a[2]=C(r=>c(),["enter"]))},null,544),[[$,i.value]])]),s("main",U,[s("div",G,[(n(!0),u(x,null,O(v.value,r=>(n(),B(E,{key:r.id,order:r,onClick:J=>p(r.id)},null,8,["order","onClick"]))),128))]),s("button",{class:"create-btn",onClick:_},"＋ 发布订单")])]))}},X=f(H,[["__scopeId","data-v-18b06658"]]);export{X as default};
